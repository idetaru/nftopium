<template>
  <div>
    <div class="collection-page">
      <div class="collection-page-top">
        <div class="container">
          <div class="collection-page-top__left">
            <div class="collection-page__author-name">Ульяна Крафт</div>
            <div class="collection-page__author-logo">
              <img
                src="../assets/images/ukraft-logo-2.svg"
                alt=""
                data-theme-visible="dark"
              />
              <img
                src="../assets/images/ukraft-logo-2-dark.svg"
                alt=""
                data-theme-visible="light"
              />
            </div>
          </div>

          <div class="collection-page-top__right">
            <a class="collection-page-action a-scroll" href="#collection-1">
              <svg
                class="collection-page-action__icon"
                width="50"
                height="50"
                viewBox="0 0 50 50"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  x="50"
                  width="50"
                  height="50"
                  transform="rotate(90 50 0)"
                  fill="#101010"
                />
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M30.3491 29L32 30.5266L25 37L18 30.5266L19.6509 29L24 33.022L24 14L26 14L26 33.022L30.3491 29Z"
                  fill="#fff"
                />
              </svg>
              <span class="collection-page-action__name"
                >X FACE <br />COLLECTION</span
              >
            </a>
          </div>
        </div>
      </div>

      <div class="collection-page-intro">
        <div class="collection-page-intro__bg-logo">
          <img src="../assets/images/ukraft-logo-bg.svg" alt="" />
        </div>

        <div class="container">
          <div class="collection-page-intro__bg-left" style="opacity: 0">
            <img src="../assets/img/brush-bg.png" alt="" />
          </div>
          <div class="collection-page-intro__bg-right" style="opacity: 0">
            <img src="../assets/img/brush-bg.png" alt="" />
          </div>
          <div class="collection-page-intro__pers" style="opacity: 0">
            <img src="../assets/images/ulyana-kraft.png" alt="" />
          </div>
          <div class="collection-page-intro__text">
            <p>Best Artist of 2019 by Fashion People Awards</p>
            <p><br /></p>
            <p>Член Профессионального союза художников России.</p>
          </div>
        </div>
      </div>
    </div>

    <section class="section section-author">
      <div class="container">
        <div class="collection-page__author-about">
          <div class="collection-page__author-left">
            <div class="collection-page__author-txt">
              <p>
                Russian art group that started a global art-activist movement.
                In 2012 two of us, Nadya and Masha, served 2 years in jail for
                an anti-Putin action.
              </p>
              <p><br /></p>
              <p>We raise $ to create activist art & donate.</p>
            </div>

            <div class="collection-page__author-socials">
              <a href="#" class="social-block">
                <span class="social-block__group">
                  <svg
                    class="social-block__icon icon-twitter"
                    width="18"
                    height="18"
                    viewBox="0 0 18 18"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M17.5921 3.70076C17.3093 3.82618 17.0186 3.93203 16.7215 4.01797C17.0732 3.62023 17.3413 3.15223 17.505 2.6401C17.5417 2.52531 17.5037 2.39966 17.4093 2.32458C17.3151 2.24944 17.1841 2.24044 17.0804 2.30193C16.4495 2.6761 15.7689 2.945 15.0552 3.10223C14.3363 2.39977 13.3599 2 12.3505 2C10.2199 2 8.4864 3.73339 8.4864 5.86401C8.4864 6.03181 8.49703 6.19869 8.51805 6.36324C5.87409 6.1311 3.41605 4.83156 1.72812 2.76105C1.66797 2.68725 1.5753 2.64748 1.48042 2.65508C1.38549 2.66251 1.30019 2.71605 1.25223 2.79833C0.90988 3.38576 0.728894 4.05762 0.728894 4.74122C0.728894 5.67228 1.06131 6.55567 1.64852 7.24594C1.46997 7.1841 1.2967 7.10681 1.13134 7.01501C1.04256 6.9656 0.934209 6.96636 0.84601 7.01693C0.757752 7.0675 0.702417 7.16052 0.700094 7.26219C0.699687 7.27932 0.699687 7.29645 0.699687 7.31381C0.699687 8.70358 1.44767 9.95481 2.59125 10.6368C2.493 10.627 2.39482 10.6127 2.29727 10.5941C2.1967 10.5749 2.09329 10.6101 2.02547 10.6868C1.95754 10.7635 1.93506 10.8703 1.96636 10.9679C2.38965 12.2894 3.47946 13.2615 4.79694 13.5578C3.70423 14.2422 2.45462 14.6007 1.14283 14.6007C0.869119 14.6007 0.593836 14.5846 0.324418 14.5527C0.190579 14.5368 0.0626057 14.6159 0.0170252 14.7431C-0.0285553 14.8705 0.0197542 15.0124 0.133618 15.0854C1.81882 16.1659 3.7674 16.7371 5.76859 16.7371C9.70268 16.7371 12.1637 14.8819 13.5355 13.3256C15.2461 11.3851 16.2271 8.81646 16.2271 6.27853C16.2271 6.1725 16.2255 6.06543 16.2223 5.95871C16.8971 5.45024 17.4782 4.83487 17.951 4.12759C18.0228 4.02017 18.0151 3.87821 17.9318 3.77932C17.8488 3.68038 17.7103 3.64839 17.5921 3.70076Z"
                      fill="#606060"
                    />
                  </svg>
                  <span class="social-block__name">@420production</span>
                </span>
                <svg
                  class="icon-verify social-block__verify"
                  width="18"
                  height="18"
                  viewBox="0 0 18 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M8.99995 18C8.47717 18 7.95438 17.8115 7.53753 17.4344L7.02268 16.9688C6.94304 16.8968 6.83281 16.8674 6.72792 16.8898L6.04927 17.0357C4.95003 17.2718 3.86122 16.643 3.51621 15.5732L3.30318 14.9125C3.27028 14.8104 3.18962 14.7297 3.08746 14.6968L2.4268 14.4838C1.35686 14.1387 0.728178 13.0498 0.964332 11.9507L1.11019 11.2719C1.1327 11.1671 1.10322 11.0569 1.03119 10.9773L0.565574 10.4624C-0.188524 9.62872 -0.188524 8.37129 0.565574 7.53755L1.03124 7.02269C1.10322 6.9431 1.1327 6.83291 1.11019 6.72793L0.964332 6.04927C0.728224 4.95021 1.35691 3.86125 2.42676 3.51624L3.08746 3.30316C3.18962 3.27021 3.27023 3.18955 3.30322 3.0874L3.51621 2.42673C3.86126 1.35678 4.95035 0.728091 6.04922 0.964294L6.72797 1.1101C6.83294 1.13267 6.94308 1.10314 7.02268 1.03115L7.53753 0.565532C8.37122 -0.188526 9.62868 -0.18848 10.4624 0.565486L10.9773 1.0312C11.0569 1.10314 11.1669 1.13262 11.272 1.11015L11.9507 0.96434C13.0501 0.728091 14.1388 1.35697 14.4837 2.42678L14.6968 3.08753C14.7298 3.18965 14.8104 3.2703 14.9125 3.30325L15.5732 3.51634C16.6431 3.86134 17.2718 4.9503 17.0357 6.04936L16.8898 6.72816C16.8673 6.833 16.8968 6.94323 16.9688 7.02283L17.4344 7.53769C18.1885 8.37139 18.1885 9.62881 17.4344 10.4626L16.9688 10.9774C16.8968 11.057 16.8673 11.1672 16.8898 11.2722L17.0357 11.9508C17.2718 13.0499 16.6431 14.1389 15.5732 14.4839L14.9125 14.6969C14.8104 14.7298 14.7297 14.8105 14.6968 14.9127L14.4838 15.5733C14.1387 16.6433 13.0496 17.2718 11.9508 17.0358L11.272 16.89C11.1672 16.8673 11.0569 16.8969 10.9773 16.969L10.4625 17.4346C10.0456 17.8115 9.52279 18 8.99995 18Z"
                    fill="#5EFF50"
                  />
                  <path
                    d="M9.48791 11.1143L12.9006 7.70537C13.2405 7.36584 13.238 6.81793 12.8948 6.48155C12.5516 6.14518 11.9979 6.14778 11.6581 6.48731L8.24372 9.89799C8.06755 10.0834 7.7512 10.0839 7.57565 9.90063L6.34628 8.65513C6.00881 8.31331 5.45521 8.30681 5.10965 8.64072C4.76414 8.97467 4.75762 9.52259 5.09509 9.8645L6.32713 11.1126C6.74876 11.5362 7.31032 11.7694 7.90839 11.7694C8.50646 11.7694 9.06802 11.5361 9.48791 11.1143Z"
                    fill="#1B1B1B"
                  />
                </svg>
              </a>
              <a href="#" class="social-block">
                <span class="social-block__group">
                  <svg
                    class="social-block__icon icon-instagram"
                    width="18"
                    height="18"
                    viewBox="0 0 18 18"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M0 5.47804C0.0596462 5.05089 0.105091 4.6213 0.180905 4.19725C0.610664 1.79541 2.28753 0.161249 4.68518 0.0775028C7.57201 -0.0230817 10.4676 -0.0283989 13.354 0.0770597C15.9636 0.172327 17.8535 2.13173 17.9349 4.77883C18.0217 7.58965 18.0217 10.4073 17.9349 13.2182C17.8535 15.8653 15.9642 17.8244 13.3542 17.9199C10.4678 18.0256 7.57158 18.0283 4.6854 17.9184C2.07538 17.8189 0.271139 15.8551 0.0965701 13.204C0.0814947 12.9747 0.0329912 12.7474 0 12.5192C0 10.1721 0 7.82494 0 5.47804ZM9.00243 16.3511C10.3234 16.3511 11.6457 16.3912 12.9649 16.3418C15.0333 16.2641 16.3055 15.0123 16.3538 12.9169C16.4136 10.3059 16.4136 7.69134 16.3538 5.08014C16.3055 2.98515 15.0324 1.70413 12.9649 1.6596C10.3406 1.60333 7.71359 1.60377 5.08938 1.6596C3.03759 1.70325 1.76164 2.95834 1.70593 5.03029C1.63514 7.67428 1.63514 10.3229 1.70593 12.9669C1.76164 15.0387 3.03759 16.2647 5.08959 16.3418C6.3922 16.391 7.69808 16.3511 9.00243 16.3511Z"
                      fill="#606060"
                    />
                    <path
                      d="M8.99995 4.34912C6.46684 4.34912 4.41309 6.43148 4.41309 9.00015C4.41309 11.569 6.46684 13.6514 8.99995 13.6514C11.5333 13.6514 13.5868 11.569 13.5868 9.00015C13.5868 6.43148 11.5333 4.34912 8.99995 4.34912ZM8.99995 12.05C7.33881 12.05 5.99229 10.6846 5.99229 9.00015C5.99229 7.3157 7.33881 5.95027 8.99995 5.95027C10.6611 5.95027 12.0076 7.3157 12.0076 9.00015C12.0076 10.6846 10.6611 12.05 8.99995 12.05Z"
                      fill="#606060"
                    />
                    <path
                      d="M14.9456 4.13692C14.9456 4.74796 14.4571 5.24335 13.8545 5.24335C13.2519 5.24335 12.7632 4.74796 12.7632 4.13692C12.7632 3.52566 13.2519 3.03027 13.8545 3.03027C14.4571 3.03027 14.9456 3.52566 14.9456 4.13692Z"
                      fill="#606060"
                    />
                  </svg>
                  <span class="social-block__name">@420production_cgi</span>
                </span>
                <svg
                  class="icon-verify social-block__verify"
                  width="18"
                  height="18"
                  viewBox="0 0 18 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M8.99995 18C8.47717 18 7.95438 17.8115 7.53753 17.4344L7.02268 16.9688C6.94304 16.8968 6.83281 16.8674 6.72792 16.8898L6.04927 17.0357C4.95003 17.2718 3.86122 16.643 3.51621 15.5732L3.30318 14.9125C3.27028 14.8104 3.18962 14.7297 3.08746 14.6968L2.4268 14.4838C1.35686 14.1387 0.728178 13.0498 0.964332 11.9507L1.11019 11.2719C1.1327 11.1671 1.10322 11.0569 1.03119 10.9773L0.565574 10.4624C-0.188524 9.62872 -0.188524 8.37129 0.565574 7.53755L1.03124 7.02269C1.10322 6.9431 1.1327 6.83291 1.11019 6.72793L0.964332 6.04927C0.728224 4.95021 1.35691 3.86125 2.42676 3.51624L3.08746 3.30316C3.18962 3.27021 3.27023 3.18955 3.30322 3.0874L3.51621 2.42673C3.86126 1.35678 4.95035 0.728091 6.04922 0.964294L6.72797 1.1101C6.83294 1.13267 6.94308 1.10314 7.02268 1.03115L7.53753 0.565532C8.37122 -0.188526 9.62868 -0.18848 10.4624 0.565486L10.9773 1.0312C11.0569 1.10314 11.1669 1.13262 11.272 1.11015L11.9507 0.96434C13.0501 0.728091 14.1388 1.35697 14.4837 2.42678L14.6968 3.08753C14.7298 3.18965 14.8104 3.2703 14.9125 3.30325L15.5732 3.51634C16.6431 3.86134 17.2718 4.9503 17.0357 6.04936L16.8898 6.72816C16.8673 6.833 16.8968 6.94323 16.9688 7.02283L17.4344 7.53769C18.1885 8.37139 18.1885 9.62881 17.4344 10.4626L16.9688 10.9774C16.8968 11.057 16.8673 11.1672 16.8898 11.2722L17.0357 11.9508C17.2718 13.0499 16.6431 14.1389 15.5732 14.4839L14.9125 14.6969C14.8104 14.7298 14.7297 14.8105 14.6968 14.9127L14.4838 15.5733C14.1387 16.6433 13.0496 17.2718 11.9508 17.0358L11.272 16.89C11.1672 16.8673 11.0569 16.8969 10.9773 16.969L10.4625 17.4346C10.0456 17.8115 9.52279 18 8.99995 18Z"
                    fill="#5EFF50"
                  />
                  <path
                    d="M9.48791 11.1143L12.9006 7.70537C13.2405 7.36584 13.238 6.81793 12.8948 6.48155C12.5516 6.14518 11.9979 6.14778 11.6581 6.48731L8.24372 9.89799C8.06755 10.0834 7.7512 10.0839 7.57565 9.90063L6.34628 8.65513C6.00881 8.31331 5.45521 8.30681 5.10965 8.64072C4.76414 8.97467 4.75762 9.52259 5.09509 9.8645L6.32713 11.1126C6.74876 11.5362 7.31032 11.7694 7.90839 11.7694C8.50646 11.7694 9.06802 11.5361 9.48791 11.1143Z"
                    fill="#1B1B1B"
                  />
                </svg>
              </a>
            </div>
          </div>
          <div class="collection-page__author-photos">
            <img src="../assets/images/author-photo-1.png" />
            <img src="../assets/images/author-photo-2.png" />
            <img src="../assets/images/author-photo-3.png" />
          </div>
        </div>
      </div>
    </section>

    <section id="collection-1" class="section section-collection animated">
      <div class="container">
        <div class="section-header">
          <h2 class="title-alt">Коллекция "X-FACE"</h2>
          <div class="section-header__right">
            <a href="#" class="link">показать полную коллекцию</a>
          </div>
        </div>

        <div class="row-wrap">
          <div class="row row-3">
            <div class="col">
              <article class="card-item">
                <router-link
                  :to="{
                    name: 'auction',
                    params: { auctionId: '60d4523d72645378e4c41d8f' },
                  }"
                  class="card-item__link"
                >
                </router-link>

                <div
                  class="card-item__img"
                  style="background-image: url(../assets/images/nft-12.png)"
                ></div>
                <h3 class="card-item__title">Utopıa S2</h3>
                <div class="card-item__footer">
                  <div class="card-item__footer-item">
                    <div class="card-item__label">Current bid:</div>
                    <div class="card-item__value">1,488 ETH</div>
                  </div>
                  <div class="card-item__footer-item">
                    <div class="card-item__label">Ending in:</div>
                    <div class="card-item__value card-item__value--dot">
                      22:53:17
                    </div>
                  </div>
                </div>
              </article>
            </div>
          </div>
        </div>

        <div class="text-center m-t-20">
          <a href="#" class="btn btn--bordered btn--wide"
            >Смотреть все работы в коллекции</a
          >
        </div>
      </div>
    </section>

    <section id="collection-2" class="section section-collection animated">
      <div class="container">
        <div class="section-header">
          <h2 class="title-alt">Коллекция "X-FACE" 2</h2>
          <div class="section-header__right">
            <a href="#" class="link">показать полную коллекцию</a>
          </div>
        </div>

        <div class="row-wrap">
          <div class="row row-3">
            <div class="col">
              <article class="card-item">
                <router-link
                  :to="{
                    name: 'auction',
                    params: { auctionId: '60d4523d72645378e4c41d8f' },
                  }"
                  class="card-item__link"
                >
                </router-link>
                <div
                  class="card-item__img"
                  style="background-image: url(../assets/images/nft-8.jpg)"
                ></div>
                <h3 class="card-item__title">Is it god or am i dog OBJECTS</h3>
                <div class="card-item__footer">
                  <div class="card-item__footer-item">
                    <div class="card-item__label">Current bid:</div>
                    <div class="card-item__value">1,488 ETH</div>
                  </div>
                  <div class="card-item__footer-item">
                    <div class="card-item__label">Ending in:</div>
                    <div class="card-item__value card-item__value--dot">
                      22:53:17
                    </div>
                  </div>
                </div>
              </article>
            </div>
          </div>
        </div>

        <div class="text-center m-t-20">
          <a href="#" class="btn btn--bordered btn--wide"
            >Смотреть все работы в коллекции</a
          >
        </div>
      </div>
    </section>
  </div>
</template>

<script>
import axios from "axios";
import { WOW } from "wowjs";
import { gsap } from "gsap";

import { API_URL } from "../config";

import { anim, throttle } from "../assets/js/global";

export default {
  name: "CollectionAutor",
  data() {
    return {
      info: null,
    };
  },
  created() {
    // eslint-disable-next-line no-unused-vars
    const { collectionId } = this.$route.params;
    axios
      .get(`${API_URL}/asset/list?sort=dateAsc&skip=0&limit=10`)
      .then((response) => {
        this.info = response.data;
      });
  },
  mounted() {
    const wow = new WOW({
      offset: 100,
    });
    wow.init();

    document.querySelector(".app").classList.remove("page-kraft");

    function CollectionIntroAnimation() {
      const logo = document.querySelector(".collection-page-intro__bg-logo");
      const bgLeft = document.querySelector(".collection-page-intro__bg-left");
      const bgRight = document.querySelector(
        ".collection-page-intro__bg-right"
      );
      const pers = document.querySelector(".collection-page-intro__pers");

      gsap.fromTo(
        bgLeft,
        { translateX: "-700px", translateY: "400px", opacity: 0 },
        {
          translateX: "0px",
          translateY: "0px",
          opacity: 1,
          duration: 1,
          delay: 1,
          ease: "expo",
        }
      );
      gsap.fromTo(
        bgRight,
        { translateX: "400px", translateY: "-250px", opacity: 0 },
        {
          translateX: "0px",
          translateY: "0px",
          opacity: 1,
          duration: 1,
          delay: 1,
          ease: "expo",
        }
      );
      gsap.fromTo(
        pers,
        { translateY: "400px", opacity: 0 },
        { translateY: "0px", opacity: 1, duration: 2, delay: 0.5, ease: "expo" }
      );
      gsap.fromTo(
        logo,
        { opacity: 0 },
        { opacity: 1, duration: 2, delay: 1.5 }
      );

      window.addEventListener(
        "scroll",
        throttle(function () {
          const scrolled = window.pageYOffset;
          const logo = document.querySelector(
            ".collection-page-intro__bg-logo"
          );
          const pers = document.querySelector(".collection-page-intro__pers");
          pers.style.transform = "translateY(" + -scrolled * 0.1 + "px" + ")";
          logo.style.transform = "translateY(" + scrolled * 0.1 + "px" + ")";
        }, 14)
      );
      this.$once("hook:destroyed", () => {
        window.removeListener(
          "scroll",
          throttle(function () {
            const scrolled = window.pageYOffset;
            const logo = document.querySelector(
              ".collection-page-intro__bg-logo"
            );
            const pers = document.querySelector(".collection-page-intro__pers");
            pers.style.transform = "translateY(" + -scrolled * 0.1 + "px" + ")";
            logo.style.transform = "translateY(" + scrolled * 0.1 + "px" + ")";
          }, 14)
        );
      });
    }

    const $animateEls = document.querySelectorAll(".animated");
    $animateEls.forEach((item) => {
      anim(item, "fadeIn");
    });

    document.querySelectorAll("a.a-scroll").forEach((anchor) => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();

        document.querySelector(this.getAttribute("href")).scrollIntoView({
          behavior: "smooth",
        });
      });
    });

    const $authorPhotos = document.querySelectorAll(
      ".collection-page__author-photos img"
    );
    $authorPhotos.forEach((item, idx) => {
      anim(item, "fadeInRight", idx / 2);
    });
    CollectionIntroAnimation();
  },
};
</script>
